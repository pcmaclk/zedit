高层次用户操作流程图，展示从 打开文件 → 编辑 → 高亮 → 保存 → 插件响应 的完整流程

[用户操作]
      │
      ▼
[GUI 层接收事件]
(键盘输入 / 鼠标点击 / 滚动 / 菜单操作)
      │
      ▼
[文本渲染层处理]
- Ropey 更新文本缓冲
- Undo/Redo 栈记录
- 可见行虚拟渲染
      │
      ▼
[语法高亮层]
- Syntect 对可见行增量高亮
- 应用当前主题
      │
      ▼
[GUI 渲染]
- 渲染文本 + 高亮颜色
- 光标位置更新
- 滚动位置更新
      │
      ├─────────────┐
      │             │
      ▼             ▼
[搜索/替换]       [插件扩展层]
- 根据输入执行逻辑   - 插件通过 API 修改文本/文件/GUI
- 更新可见行渲染     - 触发 GUI 更新 / 文件操作
      │             │
      └───────┬─────┘
              ▼
        [文件 I/O 层]
- 打开/保存文件
- 大文件分块读取 / memmap
- 编码转换 (UTF-8/UTF-16)
              │
              ▼
         [持久化/反馈]
- 文件成功保存
- 插件操作完成
- GUI 更新完成


流程说明

用户操作 → GUI 捕获 → 文本缓冲更新

Ropey + Undo/Redo → 保持高性能大文件编辑

增量高亮 → Syntect 仅渲染可见行，保证滚动和编辑流畅

虚拟渲染 → GUI 层显示，减少重绘压力

搜索/替换 → 更新可见行，快速响应

插件扩展 → 可动态操作文本、文件、GUI

文件 I/O → 分块或映射读取/保存，支持大文件

💡 特点

用户操作流清晰，模块之间解耦

高性能：虚拟渲染 + 增量高亮 + Ropey

可扩展：插件、搜索/替换、多标签页、主题

跨平台轻量：Rust + egui/FLTK + Ropey + Syntect
